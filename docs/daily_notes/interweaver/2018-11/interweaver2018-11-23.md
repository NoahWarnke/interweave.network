# Interweaver's to-do items, 2018-11-23:

- Okay, let's fully figure out how our new Draft Nodes setup will work.
  - Currently:
    - 'nodes' object containing blockchain data by nodeKey
    - 'ipfsData' object containing json-parsed IPFS data by nodeKey
    - 'myNodeKeys' array containing nodeKeys of all your Nodes on the blockchain.
    - The only Nodes that show up in My Nodes are exactly those in 'myNodes' array.
  - Desired:
    - Can have draft Nodes which contain Node IPFS data pre-JSONification, and have no nodeKey, and no blockchain data.
      - This data is in the form of a NodeData class instance.
      - It has a slot for a FormodNameNodeData class instance (which varies from Node to Node.)
      - It has a 'toJson' function which renders it to a nice JSON object for uploading to IPFS.
    - the ipfsData array actually contains exactly these same objects, rather than straight-parsed JSON from IPFS.
      - Basically, all incoming IPFS data would go through a parser function, which would delegate to formod parsers
      - The parser would return a NodeData object from the IPFS data (or throw an error... probably could combine with the validate function.)
    - So, draft Nodes are exactly the same as real Nodes, as far as their IPFS data is concerned.
    - However, they have no nodeKey to reference off of, and no blockchain data.
    - So:
      - Add draft Nodes to the ipfsData array with some fake non-nodeKey key (perhaps a simple increasing integer for the user)
      - Do we add anything to the nodes object? Shouldn't really - no real nodeKey, and no blockchain data.
      - However, we *should* add the fake node keys to the myNodeKeys array. (would need a new myDraftNodeKeys array to add after the blockchain fetch.)
      - So, My Nodes remains an enumeration of every key in myNodeKeys.
      - If the key is not found in nodes, check in ipfsData too, and if it's there, it's a draft Node.
      - When you actually deploy a Node from a draft Node, the resulting real nodeKey replaces the fake nodeKey, and the blockchain data goes into nodes.
        - so ipfsData has the entry moved between keys, and myDraftNodeKeys has the fake key removed (and myNodeKeys gets updated to include the real one.)
    - In My Nodes, draft Nodes would have 'draft' next to them.
    - All nodes would have a 'view' button next to them, which sets the current Node to that.
    - All draft nodes would have an 'edit' button next to them, which opens the Node builder.
    - In current Interweave Free iteration, there's no editing Nodes, so deployed Nodes cannot be edited.
    
    - What about connecting draft Nodes?
      - Ideally you could fully test connections with other draft and deployed Nodes, to verify the connections work.
      - Well okay, if we actually did put some fake stuff into the nodes array, we could treat it like a normal EdgeProposal situation.
      - Ehhh. Starting to balk at mixing real deployed Node data with draft Node data.
    
    - Rethink, if we were to keep these two things separate:
      - myDraftNodeKeys is separate array from myNodeKeys
      - draftIpfsData contains all the draft NodeData instances.
      - A new draftEdges object contains, for each Node key (a mixed nodeKey or draftNodeKey) which has draft edges, an array of its edgeNodeKeys.
        - This would contain only edges between nodes where at least one is a draft node.
        - Adding to it, you'd check the real Node's edgeNodeKeys first, and disallow a draft edge.
        - It would otherwise be treated as an extant edge (you could traverse it, etc.)
        - You should be able to even do this to other people's Nodes.
        - So creating a new draft Edge would be:
          - In 'my edgeproposals', you'd do 'create new edge'
          - You'd pick the first Node (has to be yours - can be either draft or deployed)
          - You'd pick an open slot on that Node:
            - If deployed make sure the slot is currently 0
            - if it is, make sure the draftEdges slot is currently 0
            - Make sure the ipfsData has an edge value for that slot?
              - This would require edges to be a universal property of NodeData, right?
              - But what transitions are specified is specific to the format, so can't have that be outside the content section.
              - So maybe just a simple usedSlots array containig 6 true/false values independent of the actual edge data?
              - But this could be out of sync with the actual data...
              - Well, no, you'd validate for that before doing anything.
              - Yeah, that would probably be best.
          - You'd pick the second Node (can be yours, or someone else's - can choose from your recent history of visited Nodes - should save that!)
          - You'd pick an open slot on that Node too (with the same checks as for the first slot.)
          - At this stage, it's active as a draft and ready to be used.
          - If both Nodes are deployed, there would be a further 'Create Edge' (if both yours) or 'Create Edge Proposal' (if one is not yours) button.
          - 'Create Edge Proposal' would further prompt for the epmess before proceeding with the blockchain confirmation.
          - This is reasonably close parallel to the draft Nodes situation, so that makes sense.
          
- So, here's what I'm proposing adding:
  - Draft Nodes:
    - General:
      - NodeData object (already there)
      - FormatNameNodeData object for each formod
    - App:
      - myDraftNodeKeys array
      - draftIpfsData object
    - BuildArea:
      - Visited when you click 'add Node', or click 'edit' on a draft Node.
      - Four steps (which can be revisited):
        - Choose the format, version, and name string.
          - After this, the draft Node is 'saved' (in memory/cookies - otherwise, would go away) and can be revisited.
        - Choose the format-specific data
          - After this, the draft node can be visited/tested.
        - Deploy to IPFS
        - Deploy to blockchain
          - After this, the node is no longer a draft, but a real Node.
          - Have to also:
            - move the Node data from draftIpfsData to ipfsData,
            - remove the fake key from myDraftNodeKeys,
            - add real one to myNodeKeys
            - add blockchain data to nodes
            - Hunt down all instances of the fake node key in myDraftEdgeProposalKeys and replace with the real one.
  - Draft Edges:
    - General:
      - EdgeProposal object (note, not 'data' - 'data' is for IPFS data, whereas Node/EdgeProposal proper is for blockchain)
    - App:
      - myEdgeProposalKeys (already there)
      - edgeProposals object
      - myDraftEdgeProposalKeys array
      - draftEdgeProposals object
    - EdgeArea (a new Vue component for when you're creating a draft/real Edge, the parallel to BuildArea):
      - Visited when you click 'add Edge', or click 'edit' on a draft Edge.
      - Steps (which can be revisited):
        - Pick one of your Nodes as the starting point (must have open slots)
        - Pick an open slot on that Node
        - Pick a second Node, either from your Nodes list or from your exploration history (including other Nodes).
        - Pick an open slot on the second Node.
          - After this, you can test it out locally.
        - If/once both Nodes are deployed:
          - If they're both your nodes, you can 'Create Edge' to deploy.
          - If the other one isn't yours, you can enter an epmess, and then 'Create Edge Proposal'.
        
        
- I think ultimately, I will end up restyling 'Nodes' as 'Places', and 'Edges' as 'Connections' on everything front-facing.

- [ ] Build Version 1 (the "free version", i.e. without any way to exchange money) of the Interweave Network.
  - [ ] Create functional DApp:
    - [ ] Make build mode:
      - [ ] Add 'draft' Nodes
        - [ ] Create a SimpleTextNodeData class that extends the Node base class.
          - This is to represent all the data for a SimpleTextNodeData
          -
      - [ ] Formod1 create node:
        - [ ] Give it an 'output' button.
        - [ ] Make clicking it open a modal with a text area containing the JSON output (for your IPFS file).
        - [ ] Make the modal have an 'x' that closes it.
        - [ ] Add fields for various SimpleText properties:
          - [ ]
      - [ ] My Edge Proposals
        - [ ] Create an app mode for myedgeproposals
        - [ ] Create a test EdgeProposal or two.
        - [ ] Show paged view of all my EdgeProposal keys.
        - [ ] Load EdgeProposal blockchain data (so getting the two Node keys and epmess and slots).
      - [ ] Edge Proposal
        - [ ] Create an App mode for edgeproposal
        - [ ] Show current EdgeProposal key
        - [ ] Show blockchain data
        - [ ] Load Node data and show the names
        - [ ] Make clicking on the Nodes go to them.
    - [ ] Extensively test!
    - [ ] Share somewhere, and fix bugs that people find, haha. This being the "free version", less (but not nothing) is at stake.
  - [ ] Smart contracts
    - [ ] When DApp is ready to share, compile and deploy to testnet!
    - [ ] When DApp is tested and ready to go, deploy to mainnet!
    
- [ ] Build Version 2 (the "payable version", i.e. with the ability to pay/be paid for EdgeProposals, and Nodes are ERC-721s)

- [ ] Write whitepaper:
    - [ ] Fill in sections. Note: leave out implementation details (anything as specific as which smart contracts or fields need to be created.) That goes in yellow paper.
      - [ ] Rationale for Interweave Network
      - [ ] Philosophy
      - [ ] Architecture
      - [ ] Applications
      - [ ] Challenges
      - [ ] Summary
      - [ ] Further Reading
    - [ ] Let sit for a few days while doing other things.
    - [ ] Revisions, round 1.
    - [ ] Let sit for another few days while doing other things.
    - [ ] Revisions, round 2.
    - [ ] Publish (reddit? medium? Lol, I've seen enough whitepapers to know where this is going. Not that I have any reach...)
 



 
